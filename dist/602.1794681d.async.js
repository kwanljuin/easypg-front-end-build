(self["webpackChunk"]=self["webpackChunk"]||[]).push([[602],{19723:function(e){e.exports={ticketCardContainer:"ticketCardContainer___1UXh-"}},8847:function(e,s,n){"use strict";n(67294);var t=n(85893),r=e=>{var s=e.children;return(0,t.jsx)("div",{style:{display:"flex",flexFlow:"column",justifyContent:"center"},children:s})};s["Z"]=r},49539:function(e,s,n){"use strict";n.d(s,{Z:function(){return E}});n(71194);var t=n(50146),r=(n(20228),n(11382)),i=(n(13062),n(71230)),l=(n(65011),n(49288)),a=(n(49111),n(19650)),o=(n(57663),n(71577)),c=(n(34792),n(48086)),u=n(3182),d=n(2824),j=(n(402),n(70647)),h=n(94043),f=n.n(h),p=n(7945),v=n(67724),g=n(8812),x=n(17244),m=n(67294),y=n(51994),k=n(72709),Z=function(){var e=(0,u.Z)(f().mark((function e(s){var n;return f().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new FormData,n.append("file",s.file),n.append("printer_name",s.printerName),e.abrupt("return",k.MW.post("/controller/print-ticket",n,{}));case 4:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}(),w=n(45004),b=n(68438),z=n(8847),C=n(85893),S=j.Z.Text,T=e=>{var s=e.file,n=e.onOpen,j=e.onClose,h=e.modalTitle,k=e.buttonTitle,T=e.showModal,E=e.showTrigger,D=e.printerType,M=(0,w.dz)(),N=M.height,P=(0,m.useState)(T),R=(0,d.Z)(P,2),W=R[0],Y=R[1],A=(0,m.useState)(0),O=(0,d.Z)(A,2),F=O[0],_=O[1],L=(0,m.useState)(1),V=(0,d.Z)(L,2),B=V[0],I=V[1],U=(0,m.useState)(!1),q=(0,d.Z)(U,2),G=q[0],X=q[1],H=(0,m.useState)("ticket"===D?(0,b.jy)(b.G8):(0,b.jy)(b.di)),Q=(0,d.Z)(H,2),J=Q[0],K=Q[1],$=(0,m.useState)([]),ee=(0,d.Z)($,2),se=ee[0],ne=(ee[1],function(){var e=(0,u.Z)(f().mark((function e(){return f().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(X(!0),Y(!0),!n){e.next=5;break}return e.next=5,n();case 5:X(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),te=()=>{Y(!1),X(!1),null!=j&&j()},re={openModal:ne},ie=(0,m.useState)(re),le=(0,d.Z)(ie,1),ae=le[0];(0,m.useEffect)((()=>{var e="ticket"===D?(0,b.jy)(b.G8):(0,b.jy)(b.di);K(e),T&&ae.openModal()}),[ae,D,T]);var oe=e=>{var s=e.numPages;_(s),I(1)},ce=e=>{I((s=>s+e))},ue=()=>{ce(-1)},de=()=>{ce(1)},je=e=>{K(e)},he=()=>{null!=J?((0,b.qQ)("ticket"===D?b.G8:b.di,J),Z({file:s,printerName:J}).then((e=>{c.ZP.success("Please wait for the print to finish.")})).catch((e=>{c.ZP.error("Something went wrong while printing, ".concat(e.toString()))}))):c.ZP.error("Printer Name cannot be empty")};return(0,C.jsxs)(C.Fragment,{children:[E&&(0,C.jsx)(o.Z,{type:"default",icon:(0,C.jsx)(p.Z,{}),onClick:ne,children:k},(0,x.x0)()),(0,C.jsx)(t.Z,{destroyOnClose:!0,title:h,visible:W,width:850,onCancel:te,footer:(0,C.jsxs)(i.Z,{align:"middle",justify:"space-between",children:[(0,C.jsx)("div",{}),(0,C.jsxs)(a.Z,{align:"center",size:"middle",children:[(0,C.jsx)(o.Z,{shape:"circle",icon:(0,C.jsx)(v.Z,{}),onClick:ue,disabled:B<=1}),(0,C.jsxs)(S,{children:["Page ",B||(F?1:"--")," of ",F||"--"]}),(0,C.jsx)(o.Z,{shape:"circle",onClick:de,icon:(0,C.jsx)(g.Z,{}),disabled:B>=F})]}),(0,C.jsxs)("div",{style:{display:"flex",alignItems:"middle"},children:[(0,C.jsx)(l.Z,{size:"large",placeholder:"Printer Name",options:se,onChange:je,value:J,style:{width:200,marginRight:4,textAlign:"left"}}),(0,C.jsx)(o.Z,{type:"primary",size:"large",onClick:he,icon:(0,C.jsx)(p.Z,{}),disabled:null==s||null==J,children:"Print"})]})]}),centered:!0,children:G?(0,C.jsx)("div",{style:{height:200,padding:100},children:(0,C.jsx)(z.Z,{children:(0,C.jsx)(r.Z,{size:"large"})})}):(0,C.jsx)("div",{style:{height:.7*N,overflow:"scroll",display:"flex",justifyContent:"center",paddingTop:16,paddingBottom:16,background:"#818181"},children:(0,C.jsx)(y.BB,{file:s,onLoadSuccess:oe,children:(0,C.jsx)(y.T3,{pageNumber:B,width:600})})})})]})};T.defaultProps={showModal:!1,showTrigger:!0,onOpen:void 0,onClose:void 0,printerType:"ticket"};var E=T},60281:function(e,s,n){"use strict";n(58024);var t=n(91894),r=(n(89032),n(15746)),i=(n(13062),n(71230)),l=(n(49111),n(19650)),a=(n(71153),n(60331)),o=(n(402),n(70647)),c=n(66502),u=n(30381),d=n.n(u),j=(n(67294),n(19723)),h=n.n(j),f=n(85893),p=o.Z.Text,v=e=>{var s,n,o,u=e.ticket,j=e.pawnTicketsSub,v=e.onClick,g={fontSize:11};return(0,f.jsx)("div",{className:h().ticketCardContainer,style:{cursor:null==v?"default":"pointer",marginBottom:8,padding:0},children:(0,f.jsx)(t.Z,{size:"small",bordered:!1,style:{width:"100%",backgroundColor:"Active"===(null===u||void 0===u?void 0:u.pawnTicketStatus)?"#fff":"#f5f5f5"},bodyStyle:{padding:"8px 16px"},loading:!1,onClick:v,children:(0,f.jsxs)(i.Z,{gutter:24,justify:"space-around",children:[(0,f.jsxs)(r.Z,{span:6,children:[(0,f.jsx)(i.Z,{gutter:16,children:(0,f.jsxs)(l.Z,{children:[(0,f.jsx)(p,{strong:!0,style:g,children:"Status:"}),(0,f.jsx)(a.Z,{color:(0,c.r)(null!==(s=null===u||void 0===u?void 0:u.pawnTicketStatus)&&void 0!==s?s:""),style:g,children:null===u||void 0===u?void 0:u.pawnTicketStatus})]})}),(0,f.jsx)(i.Z,{gutter:16,children:(0,f.jsxs)(l.Z,{children:[(0,f.jsx)(p,{strong:!0,style:g,children:"Interest (RM):"}),(0,f.jsx)(p,{style:g,children:null==(null===u||void 0===u?void 0:u.interestValue)?"-":null===u||void 0===u?void 0:u.interestValue.toFixed(2)})]})})]}),(0,f.jsxs)(r.Z,{span:6,children:[(0,f.jsx)(i.Z,{gutter:16,children:(0,f.jsxs)(l.Z,{children:[(0,f.jsx)(p,{strong:!0,style:g,children:"Pawn No:"}),(0,f.jsx)(p,{style:g,type:null!=(null===u||void 0===u?void 0:u.interestMonthCount)&&(null===u||void 0===u?void 0:u.interestMonthCount)>6?"danger":void 0,children:null!==(n=null===u||void 0===u?void 0:u.pawnNo)&&void 0!==n?n:"-"})]})}),(0,f.jsx)(i.Z,{gutter:16,children:(0,f.jsxs)(l.Z,{children:[(0,f.jsx)(p,{strong:!0,style:g,children:"Principle (RM):"}),(0,f.jsx)(p,{style:g,children:null==(null===u||void 0===u?void 0:u.principalValue)?"-":null===u||void 0===u?void 0:u.principalValue.toFixed(2)})]})})]}),(0,f.jsxs)(r.Z,{span:7,children:[(0,f.jsx)(i.Z,{gutter:16,children:(0,f.jsxs)(l.Z,{children:[(0,f.jsx)(p,{strong:!0,style:g,children:"Pawn Date:"}),(0,f.jsxs)(p,{style:g,children:[" ",null!==u&&void 0!==u&&u.createdAt?d()(u.createdAt).format("DD/MM/YYYY"):"-"]})]})}),(0,f.jsx)(i.Z,{gutter:16,children:(0,f.jsxs)(l.Z,{children:[(0,f.jsx)(p,{strong:!0,style:g,children:"Due Date:"}),(0,f.jsx)(p,{style:g,children:null!==u&&void 0!==u&&u.dueDate?d()(u.dueDate).format("DD/MM/YYYY"):"-"})]})})]}),(0,f.jsx)(r.Z,{span:5,children:(0,f.jsx)(i.Z,{gutter:16,children:(0,f.jsxs)(l.Z,{children:[(0,f.jsx)(p,{strong:!0,style:g,children:"Total Weight:"}),(0,f.jsx)(p,{style:g,children:null!=j&&null!=(null===j||void 0===j?void 0:j.totalWeight)?"".concat(j.totalWeight,"g"):(null===u||void 0===u||null===(o=u.pawnTicketsSubId)||void 0===o?void 0:o.totalWeight)&&"".concat(u.pawnTicketsSubId.totalWeight,"g")})]})})})]})})})};v.defaultProps={pawnTicketsSub:null,onClick:null},s["Z"]=v},66502:function(e,s,n){"use strict";function t(e){switch(e){case"Active":return"green";case"Redeemed":return"red";case"Renewed":return"purple";case"Revalued":return"lime";case"Extended":return"volcano";default:return"default"}}function r(e){switch(e){case"NEW":return"green";case"REDEEM":return"red";case"RENEW":return"purple";case"REVALUE":return"lime";case"EXTEND":return"volcano";default:return"default"}}n.d(s,{r:function(){return t},n:function(){return r}})},45004:function(e,s,n){"use strict";n.d(s,{Dp:function(){return i},dz:function(){return a},Nr:function(){return o}});var t=n(2824),r=n(67294),i=function(e){for(var s=arguments.length,n=new Array(s>1?s-1:0),i=1;i<s;i++)n[i-1]=arguments[i];var l=(0,r.useState)(!1),a=(0,t.Z)(l,2),o=a[0],c=a[1],u=()=>c(!1);return(0,r.useEffect)((()=>{o||(c(!0),e(...n))}),[o,e,n]),[u]};function l(){var e=window,s=e.innerWidth,n=e.innerHeight;return{width:s,height:n}}function a(){var e=(0,r.useState)(l()),s=(0,t.Z)(e,2),n=s[0],i=s[1];return(0,r.useEffect)((()=>{function e(){i(l())}return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),n}function o(e,s){var n=(0,r.useState)(e),i=(0,t.Z)(n,2),l=i[0],a=i[1];return(0,r.useEffect)((()=>{var n=setTimeout((()=>a(e)),s||500);return()=>{clearTimeout(n)}}),[e,s]),l}},46700:function(e,s,n){var t={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":95606,"./ss.js":95606,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function r(e){var s=i(e);return n(s)}function i(e){if(!n.o(t,e)){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}return t[e]}r.keys=function(){return Object.keys(t)},r.resolve=i,e.exports=r,r.id=46700},11333:function(){},52262:function(){},4727:function(){},75028:function(){},45762:function(){},57840:function(){}}]);